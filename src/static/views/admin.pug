extends layout.pug

//- Extra css
block head 
    link(rel="stylesheet", href="/data_content_table.css")
    link(rel="stylesheet", href="/admin.css")       

block section1Wrap
    div

block dataContent
    //- Table content part
    table.data_table            
        tr
            th Continent
            th Number Of Countries 
            th Total Population 
    
        each continent in continents
            tr
                td 
                    a(href=`/continents/${continent.Continent}`) #{continent.Continent}
                td #{continent.countries}
                td #{continent.Population}

block adjustmentButtons
    .data_droplist(name='delete')
        | Delete
        form(action="/submit-form", method="GET")
            ul
                li.data_li
                    input(type="text", id="cityDelete", placeholder="City ID", class="data_filter", autocomplete="none")
                li.data_li
                    input(type="text", id="countryDeleteCode", placeholder="Country code", class="data_filter", autocomplete="none")
                //- li.data_li
                //- button.data_btn(type="submit") Submit
                                               
    

block extraScripts
    //- script(type='module', src="./actions.mjs")

    script.
        //- import DatabaseService from './services/databaseservices.mjs';
        //- const db = await DatabaseService.connect();
        //- const {conn} = db;

        const cityToDeleteInput = document.querySelector('#cityDelete');
        const countryToDeleteInput = document.getElementById('countryDeleteCode');
        const continentToDeleteInput = document.querySelector('#continentDelete');

        cityToDeleteInput.addEventListener('change', (e) => {
            fetch('/admin?delete:name')
                //- .then(response => response.text())
                //- .then(data => console.log(data))
                //- .catch(error => console.error('Error:', error));
        });
        //- countryToDeleteInput.addEventListener('change', (e) => console.log(e.target.value));
